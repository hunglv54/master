define("modules/clean/search/constants",[],function(){var t;return t={},t.ActionTypes={SET_USER:"SET_USER",FOCUS_SEARCH_BAR:"FOCUS_SEARCH_BAR",BLUR_SEARCH_BAR:"BLUR_SEARCH_BAR",SET_SEARCH_QUERY:"SET_SEARCH_QUERY",SET_SEARCH_SUGGESTIONS:"SET_SEARCH_SUGGESTIONS",SET_HIGHLIGHTED_ROW:"SET_HIGHLIGHTED_ROW",HIGHLIGHT_PREVIOUS_ROW:"HIGHLIGHT_PREVIOUS_ROW",HIGHLIGHT_NEXT_ROW:"HIGHLIGHT_NEXT_ROW"},t});var extend=function(t,e){function r(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("modules/clean/search/store",["external/immutable","modules/clean/ajax","modules/clean/flux/base_store","modules/clean/search/constants"],function(t,e,r,i){var h,s;return h=i.ActionTypes,new(s=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return extend(r,e),r.prototype._init=function(){return this._user=null,this._isSearchBarFocused=!1,this._isSearchBarActive=!1,this._isSearchBarLoading=!1,this._searchQuery="",this._searchSuggestions=[],this._highlightedSearchRow=0,this._searchResults=t.List()},r.prototype.user=function(){return this._user},r.prototype.isSearchBarFocused=function(){return this._isSearchBarFocused},r.prototype.isSearchBarActive=function(){return this._isSearchBarActive},r.prototype.isSearchBarLoading=function(){return this._isSearchBarLoading},r.prototype.searchQuery=function(){return this._searchQuery},r.prototype.searchSuggestions=function(){return this._searchSuggestions},r.prototype.highlightedSearchRow=function(){return this._highlightedSearchRow},r.prototype.searchResults=function(){return this._searchResults},r.prototype._setUser=function(t){var e;return e=t.user,this._user=e},r.prototype._focusSearchBar=function(){return this._isSearchBarFocused=!0,this.emit_change()},r.prototype._blurSearchBar=function(){return this._isSearchBarFocused=!1,this._setHighlightedSearchRow({index:0}),this.emit_change()},r.prototype._setSearchQuery=function(t){var e;return e=t.query,this._searchQuery=e,this._searchSuggestions=[],this._isSearchBarActive=!!this._searchQuery,this._isSearchBarLoading=this._isSearchBarActive,this._highlightedSearchRow=0,this.emit_change()},r.prototype._setSearchSuggestions=function(t){var e;return e=t.searchSuggestions,this._isSearchBarLoading=!1,this._searchSuggestions=e,this.emit_change()},r.prototype._setHighlightedSearchRow=function(t){var e;return e=t.index,this._highlightedSearchRow=e,this.emit_change()},r.prototype._highlightPreviousSearchRow=function(){return this._highlightedSearchRow=Math.max(0,this._highlightedSearchRow-1),this.emit_change()},r.prototype._highlightNextSearchRow=function(){return this._highlightedSearchRow=Math.min(this._searchSuggestions.length,this._highlightedSearchRow+1),this.emit_change()},r.prototype._new_payload=function(t){switch(t.action.type){case h.SET_USER:return this._setUser(t.action.data);case h.FOCUS_SEARCH_BAR:return this._focusSearchBar();case h.BLUR_SEARCH_BAR:return this._blurSearchBar();case h.SET_SEARCH_QUERY:return this._setSearchQuery(t.action.data);case h.SET_SEARCH_SUGGESTIONS:return this._setSearchSuggestions(t.action.data);case h.SET_HIGHLIGHTED_ROW:return this._setHighlightedSearchRow(t.action.data);case h.HIGHLIGHT_PREVIOUS_ROW:return this._highlightPreviousSearchRow();case h.HIGHLIGHT_NEXT_ROW:return this._highlightNextSearchRow()}},r}(r))});